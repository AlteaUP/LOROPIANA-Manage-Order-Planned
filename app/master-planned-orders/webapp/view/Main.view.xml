<mvc:View
    controllerName="master.planned.orders.fashion.masterplannedorders.controller.Main"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:layout="sap.ui.layout"
    xmlns:smartfilterbar="sap.ui.comp.smartfilterbar"
    xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:html="http://www.w3.org/1999/xhtml"
>
    <!-- xmlns:smartTable="sap.ui.comp.smarttable" -->
    <Page
        id="main"
        showFooter="false"
        showHeader="false"
        title="{i18n>title}"
    >
        <f:DynamicPage
            headerExpanded="true"
            toggleHeaderOnTitleClick="true"
            class="contentNoPadding"
            fitContent="true"
        >
            <f:title>
                <f:DynamicPageTitle>
                    <f:heading>
                        <Title
                            text="Manage Master Production Orders - Fashion"
                        />
                    </f:heading>
                    <f:actions>
                        <Button
                            text="Job Over"
                            type="Transparent"
                            press="toggleAreaPriority"
                        />
                        <Button
                            icon="sap-icon://action"
                            type="Transparent"
                        />
                    </f:actions>
                </f:DynamicPageTitle>
            </f:title>
            <!-- DynamicPage Header -->
            <f:header>
                <f:DynamicPageHeader pinnable="true">
                    <smartfilterbar:SmartFilterBar
                        id="idSmartFilter"
                        basicSearchFieldName="searchField"
                        clear="removeFilter"
                        enableBasicSearch="false"
                        class="sapUiSizeCompact"
                        showClearOnFB="true"
                        search="onSearch"
                        useToolbar="false"
                    />
                </f:DynamicPageHeader>
            </f:header>
            <f:content>
                <layout:VerticalLayout width="100%">
                    <!-- class="sapUiResponsiveContentPadding" -->
                    <IconTabBar
                        id="idIconTabBarNoIcons"
                        expanded="{device>/isNoPhone}"
                        select="onTabSelect"
                        selectedKey="{view>/selectedTab}"
                    >
                        <items>
                            <IconTabFilter
                                text="Combined ({view>/combinedCount})"
                                key="combined"
                            >
                                <smartTable:SmartTable
                                    entitySet="ZC_RFM_ManageCombinedMfgOrder"
                                    id="idSmartTableCombined"
                                    smartFilterId="idSmartFilter"
                                    tableType="Table"
                                    enableExport="true"
                                    beforeExport="onBeforeExport"
                                    useVariantManagement="true"
                                    useTablePersonalisation="true"
                                    header="Line Items"
                                    showRowCount="true"
                                    persistencyKey="SmartTableAnalytical_Explored"
                                    enableAutoBinding="true"
                                    class="sapUiResponsiveContentPadding"
                                    enableAutoColumnWidth="true"
                                    editTogglable="true"
                                >
                                    <smartTable:layoutData>
                                        <FlexItemData
                                            growFactor="1"
                                            baseSize="0%"
                                        />
                                    </smartTable:layoutData>
                                </smartTable:SmartTable>
                            </IconTabFilter>
                            <IconTabFilter
                                text="Master ({view>/masterCount})"
                                key="master"
                            >
                                <smartTable:SmartTable
                                    entitySet="ZC_RFM_ManageMasterMfgOrder"
                                    id="idSmartTableMaster"
                                    smartFilterId="idSmartFilter"
                                    tableType="Table"
                                    enableExport="true"
                                    beforeExport="onBeforeExport"
                                    useVariantManagement="true"
                                    useTablePersonalisation="true"
                                    header="Line Items"
                                    showRowCount="true"
                                    persistencyKey="SmartTableAnalytical_Explored"
                                    enableAutoBinding="true"
                                    class="sapUiResponsiveContentPadding"
                                    enableAutoColumnWidth="true"
                                    editTogglable="true"
                                >
                                    <smartTable:layoutData>
                                        <FlexItemData
                                            growFactor="1"
                                            baseSize="0%"
                                        />
                                    </smartTable:layoutData>
                                </smartTable:SmartTable>
                            </IconTabFilter>
                            <IconTabFilter
                                text="Order ({view>/orderCount})"
                                key="order"
                            >
                                <smartTable:SmartTable
                                    entitySet="ZC_RFM_ManageMfgOrder"
                                    id="idSmartTableOrder"
                                    smartFilterId="idSmartFilter"
                                    tableType="Table"
                                    enableExport="true"
                                    beforeExport="onBeforeExport"
                                    useVariantManagement="true"
                                    useTablePersonalisation="true"
                                    header="Line Items"
                                    showRowCount="true"
                                    persistencyKey="SmartTableAnalytical_Explored"
                                    enableAutoBinding="true"
                                    class="sapUiResponsiveContentPadding"
                                    enableAutoColumnWidth="true"
                                    editTogglable="true"
                                >
                                    <smartTable:layoutData>
                                        <FlexItemData
                                            growFactor="1"
                                            baseSize="0%"
                                        />
                                    </smartTable:layoutData>
                                </smartTable:SmartTable>
                            </IconTabFilter>
                        </items>
                    </IconTabBar>
                    <Button
                        press="goToDetail"
                        text="GoToDetail {view>/selectedTab}"
                    />
                </layout:VerticalLayout>
            </f:content>
        </f:DynamicPage>
    </Page>
</mvc:View>
